<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <title>Matematika – Základy kvadratických výrazů</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            max-width: 800px;
            margin: 20px auto;
            line-height: 1.5;
        }
        h1, h2 {
            text-align: left;
        }
        ol {
            padding-left: 20px;
        }
        input[type="text"] {
            min-width: 160px;
        }
        .correct {
            border: 2px solid green;
        }
        .incorrect {
            border: 2px solid red;
        }
        #result {
            margin-top: 20px;
            font-weight: bold;
        }
        button {
            margin-top: 20px;
            padding: 8px 16px;
            font-size: 1rem;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>Matematika – Test</h1>
<h2>Základy kvadratických výrazů (9. třída)</h2>

<ul>
    <li>Piš výrazy bez mezer, např. <strong>x^2+6x+9</strong> nebo <strong>(x+3)^2</strong>.</li>
    <li>Používej <strong>x</strong> jako proměnnou, mocniny piš jako <strong>^2</strong> (např. x^2).</li>
    <li>U číselných výsledků piš jen čísla (např. 16, -3, 3).</li>
</ul>

<ol>
    <li>
        Rozviň pomocí vzorce: \((x+5)^2\).  
        <br>Odpověď (ve tvaru ax^2+bx+c): 
        <input type="text" id="q1" placeholder="např. x^2+10x+25">
    </li>

    <li>
        Rozviň pomocí vzorce: \((2x-3)^2\).  
        <br>Odpověď (ve tvaru ax^2+bx+c): 
        <input type="text" id="q2" placeholder="např. 4x^2-12x+9">
    </li>

    <li>
        Použij vzorec \(a^2-b^2\): Rozlož výraz  
        \(x^2-25\) na součin.  
        <br>Odpověď (faktorovaný tvar): 
        <input type="text" id="q3" placeholder="např. (x-5)(x+5)">
    </li>

    <li>
        Rozlož na součin: \(x^2+6x+9\).  
        <br>Odpověď (faktorovaný tvar): 
        <input type="text" id="q4" placeholder="např. (x+3)^2">
    </li>

    <li>
        Rozlož na součin pomocí vzorce \(a^2-b^2\): \(4x^2-9\).  
        <br>Odpověď (faktorovaný tvar): 
        <input type="text" id="q5" placeholder="např. (2x-3)(2x+3)">
    </li>

    <li>
        Využij vzorec \((a+b)^2\). Urči hodnotu výrazu  
        \((x+1)^2\) pro \(x = 3\).  
        <br>Odpověď (číslo): 
        <input type="text" id="q6" placeholder="např. 16">
    </li>

    <li>
        Urči kořeny rovnice \(x^2-9 = 0\).  
        <br>Zapiš obě řešení jako dvě čísla oddělená čárkou (v libovolném pořadí), např. <strong>-3,3</strong>.  
        <br>Odpověď: 
        <input type="text" id="q7" placeholder="-3,3">
    </li>

    <li>
        Který z následujících výrazů je ve <strong>tvaru</strong> \(a^2-b^2\)?  
        <br>a) \(x^2+4x+4\)  
        <br>b) \(9x^2-16\)  
        <br>c) \((x-2)^2\)  
        <br>Napiš jen písmeno správné odpovědi (a, b nebo c).  
        <br>Odpověď: 
        <input type="text" id="q8" placeholder="např. b">
    </li>
</ol>

<button onclick="vyhodnotitTest()">Vyhodnotit test</button>

<div id="result"></div>

<script>
    // Pomocná funkce pro normalizaci výrazů (odstraní mezery, sjednotí zápis)
    function normalizeExpression(expr) {
        return expr
            .toLowerCase()
            .replace(/\s+/g, '')
            .replace(/·/g, '*')
            .replace(/×/g, '*')
            .replace(/,/g, ',') // čárku necháme – hodí se u q7
            .replace(/²/g, '^2');
    }

    function normalizeNumber(str) {
        return str.trim().replace(',', '.');
    }

    function vyhodnotitTest() {
        var correct = 0;
        var total = 8;

        // nejdřív smažeme staré zvýraznění
        for (var i = 1; i <= total; i++) {
            var input = document.getElementById('q' + i);
            input.classList.remove('correct', 'incorrect');
        }

        // 1) (x+5)^2 = x^2 + 10x + 25
        (function () {
            var inp = document.getElementById('q1');
            var ans = normalizeExpression(inp.value);
            var okAnswers = [
                'x^2+10x+25'
            ];
            if (okAnswers.indexOf(ans) !== -1) {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 2) (2x-3)^2 = 4x^2 - 12x + 9
        (function () {
            var inp = document.getElementById('q2');
            var ans = normalizeExpression(inp.value);
            var okAnswers = [
                '4x^2-12x+9'
            ];
            if (okAnswers.indexOf(ans) !== -1) {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 3) x^2 - 25 = (x-5)(x+5)
        (function () {
            var inp = document.getElementById('q3');
            var ans = normalizeExpression(inp.value);
            var okAnswers = [
                '(x-5)(x+5)',
                '(x+5)(x-5)'
            ];
            if (okAnswers.indexOf(ans) !== -1) {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 4) x^2 + 6x + 9 = (x+3)^2
        (function () {
            var inp = document.getElementById('q4');
            var ans = normalizeExpression(inp.value);
            var okAnswers = [
                '(x+3)^2',
                '(x+3)(x+3)'
            ];
            if (okAnswers.indexOf(ans) !== -1) {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 5) 4x^2 - 9 = (2x-3)(2x+3)
        (function () {
            var inp = document.getElementById('q5');
            var ans = normalizeExpression(inp.value);
            var okAnswers = [
                '(2x-3)(2x+3)',
                '(2x+3)(2x-3)'
            ];
            if (okAnswers.indexOf(ans) !== -1) {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 6) (x+1)^2 pro x = 3 -> (3+1)^2 = 16
        (function () {
            var inp = document.getElementById('q6');
            var val = normalizeNumber(inp.value);
            if (val === '16') {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 7) kořeny x^2 - 9 = 0 -> -3 a 3
        (function () {
            var inp = document.getElementById('q7');
            var raw = inp.value.trim();
            if (raw.length === 0) {
                inp.classList.add('incorrect');
                return;
            }
            var parts = raw.split(',');
            if (parts.length !== 2) {
                inp.classList.add('incorrect');
                return;
            }
            var a = parseFloat(normalizeNumber(parts[0]));
            var b = parseFloat(normalizeNumber(parts[1]));
            // seřadíme čísla, aby nezáleželo na pořadí
            var arr = [a, b].sort(function (x, y) { return x - y; });
            if (!isNaN(arr[0]) && !isNaN(arr[1]) && arr[0] === -3 && arr[1] === 3) {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        // 8) výraz ve tvaru a^2 - b^2 je 9x^2 - 16 => možnost b
        (function () {
            var inp = document.getElementById('q8');
            var ans = inp.value.trim().toLowerCase();
            if (ans === 'b') {
                correct++; inp.classList.add('correct');
            } else {
                inp.classList.add('incorrect');
            }
        })();

        var resultDiv = document.getElementById('result');
        resultDiv.textContent = "Máš " + correct + " bodů z " + total + ".";
        alert("Máš " + correct + " bodů z " + total + ".");
    }
</script>

</body>
</html>
